.\" Automatically generated by Pod::Man 4.10 (Pod::Simple 3.35)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
.    ds C`
.    ds C'
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is >0, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.\"
.\" Avoid warning from groff about undefined register 'F'.
.de IX
..
.nr rF 0
.if \n(.g .if rF .nr rF 1
.if (\n(rF:(\n(.g==0)) \{\
.    if \nF \{\
.        de IX
.        tm Index:\\$1\t\\n%\t"\\$2"
..
.        if !\nF==2 \{\
.            nr % 0
.            nr F 2
.        \}
.    \}
.\}
.rr rF
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "WINKEYDAEMON 1"
.TH WINKEYDAEMON 1 "2019-12-30" "Winkeydaemon" "K1EL keyer driver"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "NAME"
winkeydaemon \- Morse Code daemon for the Winkey hardware keyer module
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
\&\fBwinkeydaemon\fR [\fB\-enmV\fR] [\fB\-d\fR \fIdevice\fR] [\fB\-b\fR \fIbaud\fR] [\fB\-p\fR \fIport\fR] [\fB\-q\fR \fIstring\fR] [\fB\-s\fR \fIspeed\fR]
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
\&\fBwinkeydaemon\fR is a program written in Perl used to control the the K1EL
Winkey2 keyer and some others that offer the K1EL protocol emulation
such as the Hamgadgets Master Keyer 1.
It provides an interface which is compatible to \fBcwdaemon\fR, which means
it can be used in its place.
\&\fBwinkeydaemon\fR listens on a \s-1UDP\s0 socket and outputs commands to the K1EL
keyer on a serial port.
.SH "OPTIONS"
.IX Header "OPTIONS"
.IP "\fB\-d\fR \fIdevice\fR" 12
.IX Item "-d device"
Serial device to be used (default is \fI/dev/ttyUSB0\fR)
.IP "\fB\-b\fR \fIbaud\fR" 12
.IX Item "-b baud"
Serial baud rate (default is \fI1200\fR)
.IP "\fB\-p\fR \fIport\fR" 12
.IX Item "-p port"
\&\s-1UDP\s0 port (default is \fI6789\fR, the standard \fBcwdaemon\fR port)
.IP "\fB\-s\fR \fIwpm\fR" 12
.IX Item "-s wpm"
Speed (default is \fI24\fR \s-1WPM, 0\s0 is speed potentiometer)
.IP "\fB\-q\fR string" 12
.IX Item "-q string"
\&\s-1QRV\s0 string, transmitted on start-up
.IP "\fB\-e\fR" 12
.IX Item "-e"
Transmitted \s-1CW\s0 is echoed back on the client's \s-1UDP\s0 port (see: \fB\-p\fR)
.IP "\fB\-m\fR" 12
.IX Item "-m"
Turns off (\fImutes\fR) sidetone in host mode on version 2 and 3 keyers.
On \s-1USB\s0 Lite Wk2 keyers with no speaker, this may disable the \s-1LED.\s0
.IP "\fB\-n\fR" 12
.IX Item "-n"
Run in debug mode, stay in foreground
.IP "\fB\-V\fR" 12
.IX Item "-V"
Prints version, then exists.
.SH "CONFORMING TO cwdaemon"
.IX Header "CONFORMING TO cwdaemon"
A command consists of either a string of \s-1ASCII\s0 text to be sent as Morse
Code by the keyer, or a string consisting of a leading ESCape character
(decimal 27) followed immediately by a numeral or a single \s-1ASCII\s0 command
character and an additional numeric value, depending on the command.
.PP
\&\fBwinkeydaemon\fR accepts the following \fBcwdaemon\fR commands:
.IP "<\s-1ESC\s0>0" 16
.IX Item "<ESC>0"
Reset to default values
.IP "<\s-1ESC\s0>2\fIspeed\fR" 16
.IX Item "<ESC>2speed"
Set keying speed (5 ... 60 \s-1WPM\s0)
.IP "<\s-1ESC\s0>4" 16
.IX Item "<ESC>4"
Abort message
.IP "<\s-1ESC\s0>5" 16
.IX Item "<ESC>5"
Stop (exit) the daemon
.IP "<\s-1ESC\s0>7\fIweight\fR" 16
.IX Item "<ESC>7weight"
Set weighting (\-50 ... 50)
.IP "<\s-1ESC\s0>c\fIx\fR" 16
.IX Item "<ESC>cx"
Tune \fIx\fR seconds long (limit = 10 seconds)
.IP "<\s-1ESC\s0>d\fIdelay\fR" 16
.IX Item "<ESC>ddelay"
\&\s-1PTT\s0 on delay (0 ... 50ms)
.IP "\fIAny message\fR" 16
.IX Item "Any message"
Send Morse Code message
.IP "\fIqrz de pa0rct +test\-\fR" 16
.IX Item "qrz de pa0rct +test-"
Increase and decrease speed on the fly in 2 \s-1WPM\s0 steps (each \fB+\fR
and \fB\-\fR character in the string increases and decreases the
Morse speed by 2 \s-1WPM,\s0 for example, \fI+++test\-\-\-\fR will cause the
word \fItest\fR to be sent 6 \s-1WPM\s0 faster than the preceeding text (if
any) and the succeeding text (if any) will be sent at the set
speed).
.SH "NOTES"
.IX Header "NOTES"
The Perl module \fBDevice::SerialPort\fR is required. For Debian and derivatives
this can be found as the \fBlibdevice-serialport-perl\fR package.
For Slackware and derivatives this can be found on Slackbuilds dot org
(\fBhttp://slackbuilds.org\fR) as the perl-Device-SerialPort build script.
Other distributions will vary. It is always available from meta::cpan
(\fBhttps://metacpan.org/release/Device\-SerialPort\fR).
.PP
While an \fBinit\fR(8) script is included, running \fBwinkeydaemon\fR as a system
daemon is not required. A normal user account can run \fBwinkeydaemon\fR as
long as the account is a member of the group of the serial device
(often \fIdialout\fR but can vary).
.SH "BUGS"
.IX Header "BUGS"
A lack of testing on a wider range of keyers.
.PP
Bug reports and patches can be reported through the
<https://github.com/N0NB/winkeydaemon> GitHub Web site.
.SH "EXAMPLE"
.IX Header "EXAMPLE"
Start \fBwinkeydaemon\fR using a custom serial device name:
.PP
winkeydaemon \-d /dev/mk1
.SH "AUTHORS"
.IX Header "AUTHORS"
\&\fBwinkeydaemon\fR was originally written by Rein Couperus, \s-1PA0R.\s0
.PP
Joop Stakenborg, \s-1PG4I,\s0 developed a package for the Debian GNU/Linux
distribution adding a manual page and an init script.
.PP
Wilbert Knol, \s-1PE7T,\s0 extended it to work with the Winkeyer \s-1USB\s0 models.
.PP
Nate Bargmann, N0NB, collated the various works and is hosting the project
at GitHub (<https://github.com/N0NB/winkeydaemon>).
.PP
This manual page was originally written by Joop Stakenborg, \s-1PG4I,\s0
for the Debian project (but may be used by others).
It has been expanded by Nate Bargmann, N0NB.
